function touchHandler(a){var e=a.changedTouches[0],t="";switch(a.type){case"touchstart":t="mousedown";break;case"touchmove":t="mousemove";break;case"touchend":t="mouseup";break;default:return}var o=document.createEvent("MouseEvent");o.initMouseEvent(t,!0,!0,window,1,e.screenX,e.screenY,e.clientX,e.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(o),a.preventDefault()}function setColor(a){context.fillStyle=a,context.strokeStyle=a;var e=document.getElementsByClassName("active")[0];e&&(e.className="swatch")}function setSwatch(a){var e=a.target;setColor(e.style.backgroundColor),e.className+=" active"}function slova(a){localStorage.setItem("oznaka",a),$("div.scrollmenu a").removeClass("mujo"),"a"==a?(localStorage.setItem("slovo",a+".png"),CleanCanvas(),$("#"+a).addClass("mujo")):"b"==a?(localStorage.setItem("slovo",a+".png"),CleanCanvas(),$("#"+a).addClass("mujo")):"b"==a?(localStorage.setItem("slovo",a+".png"),CleanCanvas(),$("#"+a).addClass("mujo")):"c"==a?(localStorage.setItem("slovo",a+".png"),CleanCanvas(),$("#"+a).addClass("mujo")):"č"==a?(localStorage.setItem("slovo","ccc.png"),CleanCanvas(),$("#"+a).addClass("mujo")):"ć"==a?(localStorage.setItem("slovo","cc.png"),CleanCanvas(),$("#"+a).addClass("mujo")):"d"==a?(localStorage.setItem("slovo",a+".png"),CleanCanvas(),$("#"+a).addClass("mujo")):"đ"==a?(localStorage.setItem("slovo","dd.png"),CleanCanvas(),$("#"+a).addClass("mujo")):"dz"==a?(localStorage.setItem("slovo","dz.png"),CleanCanvas(),$("#"+a).addClass("mujo")):"e"==a?(localStorage.setItem("slovo",a+".png"),CleanCanvas(),$("#"+a).addClass("mujo")):"f"==a?(localStorage.setItem("slovo",a+".png"),CleanCanvas(),$("#"+a).addClass("mujo")):"g"==a?(localStorage.setItem("slovo",a+".png"),CleanCanvas(),$("#"+a).addClass("mujo")):"h"==a?(localStorage.setItem("slovo",a+".png"),CleanCanvas(),$("#"+a).addClass("mujo")):"i"==a?(localStorage.setItem("slovo",a+".png"),CleanCanvas(),$("#"+a).addClass("mujo")):"iže"==a?(localStorage.setItem("slovo","ii.png"),CleanCanvas(),$("#"+a).addClass("mujo")):"j"==a?(localStorage.setItem("slovo",a+".png"),CleanCanvas(),$("#"+a).addClass("mujo")):"jat"==a?(localStorage.setItem("slovo",a+".png"),CleanCanvas(),$("#"+a).addClass("mujo")):"jer"==a?(localStorage.setItem("slovo",a+".png"),CleanCanvas(),$("#"+a).addClass("mujo")):"ju"==a?(localStorage.setItem("slovo",a+".png"),CleanCanvas(),$("#"+a).addClass("mujo")):"k"==a?(localStorage.setItem("slovo",a+".png"),CleanCanvas(),$("#"+a).addClass("mujo")):"l"==a?(localStorage.setItem("slovo",a+".png"),CleanCanvas(),$("#"+a).addClass("mujo")):"m"==a?(localStorage.setItem("slovo",a+".png"),CleanCanvas(),$("#"+a).addClass("mujo")):"n"==a?(localStorage.setItem("slovo",a+".png"),CleanCanvas(),$("#"+a).addClass("mujo")):"o"==a?(localStorage.setItem("slovo",a+".png"),CleanCanvas(),$("#"+a).addClass("mujo")):"Ō"==a?(localStorage.setItem("slovo","oo.png"),CleanCanvas(),$("#"+a).addClass("mujo")):"p"==a?(localStorage.setItem("slovo",a+".png"),CleanCanvas(),$("#"+a).addClass("mujo")):"r"==a?(localStorage.setItem("slovo",a+".png"),CleanCanvas(),$("#"+a).addClass("mujo")):"s"==a?(localStorage.setItem("slovo",a+".png"),CleanCanvas(),$("#"+a).addClass("mujo")):"š"==a?(localStorage.setItem("slovo","ss.png"),CleanCanvas(),$("#"+a).addClass("mujo")):"t"==a?(localStorage.setItem("slovo",a+".png"),CleanCanvas(),$("#"+a).addClass("mujo")):"u"==a?(localStorage.setItem("slovo",a+".png"),CleanCanvas(),$("#"+a).addClass("mujo")):"v"==a?(localStorage.setItem("slovo",a+".png"),CleanCanvas(),$("#"+a).addClass("mujo")):"z"==a?(localStorage.setItem("slovo",a+".png"),CleanCanvas(),$("#"+a).addClass("mujo")):"ž"==a&&(localStorage.setItem("slovo","zz.png"),CleanCanvas(),$("#"+a).addClass("mujo"))}"undefined"==localStorage.getItem("ucitano")||localStorage.getItem("ucitano"),swal({title:"<strong>Nauči pisati glagoljicu!</strong>",html:'<a href="http://ihjj.hr/" target="_blank"><img src="slike/logo-ihjj.png" style="display:block; margin:auto; cursor:pointer" class="sivo"></a><p>Odaberite jedno slovo iz donjeg izbornika te ga precrtajte koristeći miš ili ekran na dodir. Probajte slova precrtati u jednom potezu kako bi ih bolje naučili. </p>',focusConfirm:!1,confirmButtonText:"KRENI!",confirmButtonAriaLabel:"Thumbs up, great!",cancelButtonText:'<i class="fa fa-thumbs-down"></i>'});var canvas=document.getElementById("canvas"),context=canvas.getContext("2d"),image=new Image;"undefined"==localStorage.getItem("slovo")||null===localStorage.getItem("slovo")?(localStorage.setItem("oznaka","a"),localStorage.setItem("slovo","a.png"),sl=localStorage.getItem("slovo"),oznaka=localStorage.getItem("oznaka"),image.src="slike/"+sl,$("#"+oznaka).addClass("mujo")):(sl=localStorage.getItem("slovo"),image.src="slike/"+sl,oznaka=localStorage.getItem("oznaka"),$("#"+oznaka).addClass("mujo")),image.onload=function(){var a=canvas.getContext("2d"),e=image.width/image.height,t=canvas.width/2,o=t/e;o>canvas.height&&(t=(o=canvas.height-100)*e);var n=t<canvas.width?(canvas.width-t)/2:0,l=o<canvas.height?(canvas.height-o)/2:0;a.globalAlpha=.5,a.drawImage(image,n,l,t,o)};var background=new Image;background.src="slike/pozadina.jpg",background.onload=function(){context.save(),context.globalAlpha=.1,context.drawImage(background,0,0,canvas.width,canvas.height),context.restore()};var radius=10,dragging=!1;canvas.width=window.innerWidth,canvas.height=window.innerHeight;var CleanBtn=document.getElementById("clear");context.lineWidth=2*radius;var putPoint=function(a){1==dragging&&(context.lineCap="square",context.lineTo(a.clientX,a.clientY),context.stroke(),context.beginPath(),context.arc(0,0,radius,0,2*Math.PI/2^10),context.fill(),context.beginPath(),context.moveTo(a.clientX,a.clientY))},engage=function(a){dragging=!0,putPoint(a)},disengage=function(){dragging=!1,context.beginPath()},CleanCanvas=function(){for(i=0;i<8;i++)context.fillStyle="white",context.fillRect(0,0,window.innerWidth,window.innerHeight);var a=document.getElementById("canvas"),e=new Image;sl=localStorage.getItem("slovo"),e.src="slike/"+sl,e.onload=function(){var t=a.getContext("2d"),o=e.width/e.height,n=a.width/2,l=n/o;l>a.height&&(n=(l=a.height-100)*o);var s=n<a.width?(a.width-n)/2:0,d=l<a.height?(a.height-l)/2:0;t.globalAlpha=.4,t.drawImage(e,s,d,n,l)};var t=new Image;t.src="slike/pozadina.jpg",t.onload=function(){context.save(),context.globalAlpha=.1,context.drawImage(t,0,0,a.width,a.height),context.restore()}};CleanBtn.addEventListener("click",CleanCanvas),canvas.addEventListener("mousedown",engage),canvas.addEventListener("mouseout",disengage),canvas.addEventListener("mousemove",putPoint),canvas.addEventListener("mouseup",disengage);var setRadius=function(a){a<minRad?a=minRad:a>maxRad&&(a=maxRad),radius=a,context.lineWidth=2*radius,radSpan.innerHTML=radius};if(jQuery(window).width()>900)var defaultRad=20;else defaultRad=10;var minRad=.5,maxRad=100,interval=5,radSpan=document.getElementById("radval"),decRad=document.getElementById("decrad"),incRad=document.getElementById("incrad");decRad.addEventListener("click",function(){setRadius(radius-interval)}),incRad.addEventListener("click",function(){setRadius(radius+interval)}),setRadius(defaultRad);for(var colors=["black","grey","white","red","orange","yellow","green","blue","indigo","violet"],i=0,n=colors.length;i<n;i++){var swatch=document.createElement("div");swatch.className="swatch",swatch.style.backgroundColor=colors[i],swatch.addEventListener("click",setSwatch),document.getElementById("colors").appendChild(swatch)}setSwatch({target:document.getElementsByClassName("swatch")[0]}),document.getElementById("canvas").addEventListener("touchstart",touchHandler,!0),document.getElementById("canvas").addEventListener("touchmove",touchHandler,!0),document.getElementById("canvas").addEventListener("touchend",touchHandler,!0),document.getElementById("canvas").addEventListener("touchcancel",touchHandler,!0),function(a){a(window).on("load",function(){a(".mcs-horizontal-example").mCustomScrollbar({axis:"x",theme:"dark-3"})})}(jQuery),$(".mcs-horizontal-example").mCustomScrollbar({axis:"x",theme:"dark-3",advanced:{autoExpandHorizontalScroll:!0}});